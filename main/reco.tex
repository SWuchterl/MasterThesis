\chapter{Simulation, data processing, and event reconstruction}\label{chap:reco}
The data sets, based on the proton-proton (pp) collisions and recorded with the CMS detector, are centrally provided in the \texttt{MINIAOD} format~\cite{MiniAOD}. This format contains only parts of the original event and detector information relevant for most of the physics analyzes. An analysis looking for deviations from expectations from the SM is supposed not to be biased while development. Thus, SM and signal Monte-Carlo (MC) simulations are performed and are centrally provided by the CMS collaboration. These are also provided in the \texttt{MINIAOD} format with extended generator informations.\\
All available data sets, including measured data and simulation, are further processed with the help of the CMS software framework (CMSSW\footnote{Version 8.0.26})~\cite{CMSSW}, the CMS Remote Analysis Builder (CRAB3)~\cite{CRAB}, and the ressources of the Worldwide LHC Computing Grid (WLCG)~\cite{Grid}, to obtain files with significantly reduced size. The obtained reduced information is stored in the \texttt{ROOT}~\cite{ROOT} file format, and can be used by analysists with self-developed software~\footnote{Usually composed of parts developed in \texttt{C/C++} and \textt{Python}}.\\
\\
In this chapter, at first the used data samples are introduced. Thereafter, an overview on MC simulation is given, while the simulated samples used in this analysis are reviewed. After that, the event reconstruction performed on all data sets is explained. A more detailed view is given on the reconstruction and identification of physics objects.\\
Protons are very complicated objects composed of many different quarks and gluons. The probability to find a distinct parton of a proton in a deep-inelastic-scattering is given by Parton distribution functions (PDFs) and the underlying parton density functions~\cite{PDF}. Hence, an event measured with the CMS detector is not clean, but shows different effects. The interaction between the colliding two partons is described as the hard interaction. The products and quantities of these interactions contain the most interesting physical information. But, due to the structure of the proton, many different lower energetic particles can be produced in interactions between additional partons (multi-parton-interactions). These remnants of the scattering process, together with reconstructed remnants of the protons, are denoted as the underlying event. Interactions between protons in the same bunch crossing are referred to as pileup.

\section{Data sets}
This analysis uses different data sets based on the pp-collisions of the LHC with a center-of-mass energy of $13\TeV$ in 2016 and recorded with the CMS detector, corresponding to an integrated luminosity of $35.9\fbinv$. Each primary data set (PD), is a composition of events recorded with similar HLT trigger paths. The \texttt{DoubleMuon} and \texttt{DoubleEG} PDs are used in the central part of the analysis for the signal selection, since they contain events with two muons or electrons respectively. \texttt{MET} and \texttt{HT} PDs are used for trigger efficiency measurements, and the \texttt{MuonEG} PD is used to extract a selection relevant for the background prediction.\\
The different PDs are separated into several single samples for different run eras troughout 2016. The paths of the used samples with the \texttt{03Feb2017} version of reconstruction available via the CMS data set bookkeeping service (DBS)~\cite{DASBookkeeping} are listed in \refTab{tab:datasets}.
\todo{refs zu chaptern}

\todo{Tabelle aus Note}

\section{Simulation}
The simulation process for SM background and SUSY signal samples can be devided in three major steps, which are very similar for both cases. At first, for a specific process events are simulated with an event generator. The event generators used for the generation of the samples considered in this analysis are \MADGRAPH5 in leading order (LO) configuration~\cite{Madgraph1,Madgraph2,Madgraph3}, \MADGRAPH\_\MCATNLO in next-to-leading order (NLO)~\cite{Madgraph1,AMCATNLO}, \PYTHIA~\cite{Pythia} for both cases of accuracy, or \POWHEG~\cite{Powheg1,Powheg2}. Matrix elements for the contributing diagrams are computed, and via convolving with PDFs, cross sections are calculated. These cross sections later can be used to rescale the MC simulation to a given integrated luminosity. Thus, the simulation can be performed with very high statistics and can still be compared to measured data.\\
Depending on the choice of the chosen generator, a separate generator for the simulation of hadronic showers must be used. This is done with \PYTHIA. Therewith partons generated in matrtix element corresponding to the hard interaction, and partons generated with \PYTHIA in the showering for \eg initial state radiation (ISR), are not double counted, a matching with the \textsc{MLM}~\cite{Madgraph2} (LO) or \textsc{FXFX}~\cite{AMCATNLO} (NLO) matching schemes is performed. The hadronization of the partons (quarks and gluons) is simulated also with \PYTHIA, based on the confinement of color charged particles.  This, together with the underlying event and pileup, is all covered by the \textsc{CUETP8M1} generator tune~\cite{Tune}. It is based on $7\TeV$ proton-proton CMS and proton-antiproton CDF measurements. The PDFs used for the generation of the MC samples are provided by the \textsc{NNPDF} 3.0 sets~\cite{NNPDF}.\\
The big next step, which is the most time and ressource consuming part, is the simulation of the detector response. A full model of the CMS detector was contructed with the \GEANTfour~\cite{Geant} package. Hence, it allows a precise simulation of the detector response for the events generated with the procedure described above. In the \GEANTfour package, material and particle properties, detector effects, and decay structures are considered in the simulation process. Since this procedure is very time consuming, but leads to a high accuracy, a different method is chosen for processes, whose description is limited by different aspects. So for the generation of SUSY samples, where theoretical uncertainties dominate, the CMS \textsc{FASTSIM} packages is used~\cite{FastSim}. It is based on a siplified geometry and parametrizations, yielding a reduction in runtime of the factor $\approx100$. If the "FullSim" and "FastSim" performances are compared~\cite{FastSimQuality}, a agreement within $\approx10\%$ is observed.\\
\\
All MC simulated processes used in this analysis are listed in \refTab{tab:MCsamples} together with their corresponding cross sections used to rescale the samples later on. The DBS paths are given in the appendix.\todo{ref}\\
The Drell-Yan (DY) $\PZ/\PGg$ process, as well as the diboson $\PZ\PGg$ and $\PW\PGg$ processes, and triboson production of $\PW\PW\PGg$ and $\PW\PZ\PGg$ are generated with \MADGRAPH\_\MCATNLO in NLO. Top pair production in association with a photon ($\ttbar\PGg$) and the production of a $\PW$ boson in association with jets are also simulated using the \MADGRAPH\_\MCATNLO generator in NLO. Top pair production with leptonic decays ($\ttbar\to 2\ell 2\PGn 2\cPqb$), diboson production of $\PW\PZ$, $\PZ\PZ$, $\PW\PW$, and all singletop production processes are generated using \POWHEG.
The diboson $\PW\PW$ and $\PW\PGg$ production, the production of $\PW+jets$, triboson $\PW\PW\PGg$ and $\PW\PZ\PGg$ production, and all singletop production channels are grouped together and denoted as "other" in the following.
Next-to-leading order and next-to-next-to-leading order (NNLO) cross sections~\cite{xsec1,xsec2,xsec3,xsec4,xsec5,xsec6,xsec7,xsec8,xsec9} are used for the normaliziation of the samples.\\
The generator used for the signal simulation production is \MADGRAPH\_\MCATNLO for the simplified models, and \PYTHIA8 for the full GGM model. The corresponding DBS paths are also listed in the appendix\todo{ref}.
The cross sections used in the signal normalization are calculated at NLO accuracy for the full GGM scenario, and at NLO+next-to-leading logarithmic (NLL) accuracy for the two simplified models~\cite{sxsec1,sxsec2,sxsec3,sxsec4,sxsec5,sxsec6,sxsec7,sxsec8,sxsec9}.
For the electroweak SMS the applied cross section is calculcated for $\charginoOne\neutralinoOne$ and $\charginoOne\charginoOneBar$ production with squarks and gluinos decoupled, and the sum of both is used. In the cross section calculation of gluino pair production for the other SMS squark decoupling is assumed. The applied cross sections for the GGM scenario are obtained using a full model, thus beeing different from the ones used for the electroweak SMS.\\
For the GGM model signal points are generated with wino masses ranging from $215\GeV$ to $1015\GeV$, and bino masses from $205\GeV$ to $m(\widetilde{W})-10\GeV$ in intervals of $25\GeV$.
In case of the \texttt{TChiZG} SMS, points are generated with NLSP masses in the range of $300-1300\GeV$ in steps of $25\GeV$. The grid of points generated for the \texttt{T5bbbbZG} strong production SMS includes gluino masses in the range of $800\GeV$ to $2500\GeV$, while the NLSP massrange is scanned from $10\GeV$ to $m(\widetilde{g}-10\GeV$ in non equidistant steps.\\
\\
As mentioned above, the true number of generated MC events $N_{Gen}$ is very high. Thus, together with the measured integrated luminosity $\Lumi$, and a given cross section $\sigma$, a global event weight of
\begin{equation}
  w = \frac{\Lumi \cdot \sigma}{N_{Gen}}
\end{equation}
is obtained.\\
Additional event weights are applied on the simulation to account for differences in the pileuip distribution. To improve on the \MadGraph modeling of the multiplicity of additonal jets arising from initial state radiation, SUSY SMS MC events are reweighted as a function of $N^{ISR}_{Jet}$ or the transverse momentum of the ISR system, to improve the agreement with observations in data.
The latter is based on studies of the transverse momentum of $\PZ$ events.~\cite{NISRweight}.
The differences to 1 for the reweighting factor is considered as a systematic uncertainty later on.
The \POWHEG \ttbar simulation is also reweighted as a function of the transverse momentum of the top system, based on studies in top pair production cross section measurements~\cite{topWeight1,topWeight2,topWeight3,topWeight4} to improve the agreement of the transverse momentum of the top quark with data.

\subsection{Overlap Removal}
\todo{write}
Eigene section? oder nur erwaehnen?

\section{Event and particle reconstruction}
\subsection{Muons}
\subsection{Electrons}
\subsection{Photons}
\subsection{Jets}
\subsection{Missing transverse momentum}
\section{Definition of observables}

\section{Event Selection?}
